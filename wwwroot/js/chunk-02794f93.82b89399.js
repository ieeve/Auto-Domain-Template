(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02794f93"],{"5b878":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trim=t.isObject=t.isNil=t.isNan=t.size=t.isString=t.validateLocale=t.splitSentences=void 0;var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\.+/g,".|").replace(/\?/g,"?|").replace(/\!/g,"!|").split("|").map((function(e){return p(e)})).filter(Boolean)};t.splitSentences=r;var i=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i,a=function(e){return"string"===typeof e&&i.test(e)};t.validateLocale=a;var o=function(e){return"string"===typeof e||e instanceof String};t.isString=o;var s=function(e){return e&&Array.isArray(e)&&e.length?e.length:0};t.size=s;var l=function(e){return"number"===typeof e&&isNaN(e)};t.isNan=l;var u=function(e){return null===e||void 0===e};t.isNil=u;var c=function(e){return"[object Object]"===Object.prototype.toString.call(e)};t.isObject=c;var p=function(e){return o(e)?e.trim():""};t.trim=p},"67a4":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"plan"},[n("el-row",{staticClass:"page-tools"},[n("el-col",{attrs:{span:14}},[e.manualDialog.Visible?n("div",{staticStyle:{"padding-left":"10px",color:"purple"}},[n("i",{staticClass:"el-icon-video-pause",staticStyle:{"font-size":"25px"}}),n("span",{staticStyle:{"padding-left":"10px","font-size":"16px"}},[e._v("监听暂停")])]):n("div",{staticStyle:{"padding-left":"10px",color:"green"}},[n("i",{staticClass:"el-icon-loading",staticStyle:{"font-size":"25px"}}),n("span",{staticStyle:{"padding-left":"10px","font-size":"16px"}},[e._v("监听中... "+e._s(e.InputTips))])])]),n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:10}},[n("div",{staticStyle:{"text-align":"right"}},[n("span",{staticStyle:{margin:"0,10px,0,10px"}},[n("el-link",{attrs:{icon:"el-icon-edit",type:"primary"},on:{click:e.showManualDialog}},[e._v("无工单录入")]),e._v(" "),n("el-link",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:e.showRejectDialog}},[e._v("退库")]),e._v(" "),n("el-link",{attrs:{icon:"el-icon-view",type:"primary",href:"/#/objectView/ViewDataList/18?name=毛坯入库管理",target:"_blank"}},[e._v("库房管理")])],1),n("el-button",{attrs:{type:"primary",size:"small",loading:e.submitLoading},on:{click:e.submitEvent}},[e._v("存盘改变")])],1)])],1),n("elx-editable",{directives:[{name:"loading",rawName:"v-loading",value:e.tableData.listLoading,expression:"tableData.listLoading"}],ref:"elxEditable",staticClass:"click-table1",staticStyle:{width:"100%"},attrs:{"row-style":e.tableRowClassName,border:"","row-key":"id",data:e.tableData.data,height:e.tableHeight,"edit-config":{trigger:"click",mode:"cell"}},on:{"update:data":function(t){return e.$set(e.tableData,"data",t)}}},[n("template",{slot:"empty"},[n("div",{staticStyle:{color:"purple"}},[n("i",{staticClass:"el-icon-full-screen",staticStyle:{"font-size":"50px"}}),n("br"),n("span",{staticStyle:{"font-size":"18px"}},[e._v("扫码监听中...")])])]),n("elx-editable-column",{attrs:{label:"操作",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.delClick(t.row,t.$index)}}},[e._v("删除")])]}}])}),n("elx-editable-column",{attrs:{prop:"plans",sortable:"","min-width":"130","show-overflow-tooltip":!e.isLineWarp,label:"计划编号"}}),n("elx-editable-column",{attrs:{prop:"workid",sortable:"","min-width":"80","show-overflow-tooltip":!e.isLineWarp,label:"工单号"}}),n("elx-editable-column",{attrs:{prop:"num",sortable:"","min-width":"80",label:"入库数量","edit-render":{type:"default"}},scopedSlots:e._u([{key:"edit",fn:function(t){return[n("el-input-number",{attrs:{min:0,max:1e5,size:"small"},on:{input:function(n){return e.$refs.elxEditable.updateStatus(t)}},model:{value:t.row.num,callback:function(n){e.$set(t.row,"num",n)},expression:"scope.row.num"}})]}},{key:"default",fn:function(t){return[e._v(e._s(t.row.num))]}}])}),n("elx-editable-column",{attrs:{prop:"rsource",sortable:"","min-width":"90","show-overflow-tooltip":!e.isLineWarp,label:"来料单位","edit-render":{type:"default"}},scopedSlots:e._u([{key:"edit",fn:function(t){return[n("el-input",{attrs:{size:"small"},on:{input:function(n){return e.$refs.elxEditable.updateStatus(t)}},model:{value:t.row.rsource,callback:function(n){e.$set(t.row,"rsource",n)},expression:"scope.row.rsource"}})]}},{key:"default",fn:function(t){return[e._v(e._s(t.row.rsource))]}}])}),n("elx-editable-column",{attrs:{prop:"code",sortable:"","min-width":"100","show-overflow-tooltip":!e.isLineWarp,label:"炉号","edit-render":{type:"default"}},scopedSlots:e._u([{key:"edit",fn:function(t){return[n("el-input",{attrs:{size:"small"},on:{input:function(n){return e.$refs.elxEditable.updateStatus(t)}},model:{value:t.row.code,callback:function(n){e.$set(t.row,"code",n)},expression:"scope.row.code"}})]}},{key:"default",fn:function(t){return[e._v(e._s(t.row.code))]}}])}),n("elx-editable-column",{attrs:{prop:"location",sortable:"","min-width":"130",label:"货位","edit-render":{type:"default"}},scopedSlots:e._u([{key:"edit",fn:function(t){return[n("el-autocomplete",{attrs:{size:"small","fetch-suggestions":e.querySearch},on:{input:function(n){return e.$refs.elxEditable.updateStatus(t)}},model:{value:t.row.location,callback:function(n){e.$set(t.row,"location",n)},expression:"scope.row.location"}})]}},{key:"default",fn:function(t){return[e._v(e._s(t.row.location))]}}])}),n("elx-editable-column",{attrs:{prop:"weight",sortable:"","min-width":"70","show-overflow-tooltip":!e.isLineWarp,label:"重量"}}),n("elx-editable-column",{attrs:{prop:"createtime",sortable:"","min-width":"90","show-overflow-tooltip":!e.isLineWarp,label:"创建时间"}})],2),n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.manualDialog.Visible,title:e.manualDialog.Title,"append-to-body":"","close-on-click-modal":!0},on:{"update:visible":function(t){return e.$set(e.manualDialog,"Visible",t)}}},[n("el-card",{staticClass:"box-card"},[n("el-form",{ref:"ruleForm",attrs:{size:"small",model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"工号",prop:"projectid"}},[n("el-select",{attrs:{loading:e.select_remoteLoading,filterable:"",clearable:"",remote:"","remote-method":e.queryWorkNoSearch,placeholder:"请输入内容"},model:{value:e.ruleForm.projectid,callback:function(t){e.$set(e.ruleForm,"projectid",t)},expression:"ruleForm.projectid"}},e._l(e.WorkNoListOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"图号",prop:"itemnumber"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{focus:e.WorkNoSelectChange,change:e.ItemNoSelectChange},model:{value:e.ruleForm.itemnumber,callback:function(t){e.$set(e.ruleForm,"itemnumber",t)},expression:"ruleForm.itemnumber"}},e._l(e.ItemNoListOptions,(function(e){return n("el-option",{key:e.itemnumber,attrs:{label:e.itemnumber,value:e.itemnumber}})})),1)],1),n("el-form-item",{attrs:{label:e.ruleFormTitle.num,prop:"num"}},[n("el-InputNumber",{model:{value:e.ruleForm.num,callback:function(t){e.$set(e.ruleForm,"num",t)},expression:"ruleForm.num"}})],1),n("el-form-item",{attrs:{label:"存放位置",prop:"location"}},[n("el-input",{model:{value:e.ruleForm.location,callback:function(t){e.$set(e.ruleForm,"location",t)},expression:"ruleForm.location"}})],1),n("el-form-item",{attrs:{label:"炉号",prop:"code"}},[n("el-input",{model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,"code",t)},expression:"ruleForm.code"}})],1),n("el-form-item",{attrs:{label:e.ruleFormTitle.rsource,prop:"rsource"}},[e.ruleForm.isreject?n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.rsource,callback:function(t){e.$set(e.ruleForm,"rsource",t)},expression:"ruleForm.rsource"}},[n("el-option",{attrs:{label:"工废",value:"工废"}}),n("el-option",{attrs:{label:"料废",value:"料废"}})],1):n("el-input",{model:{value:e.ruleForm.rsource,callback:function(t){e.$set(e.ruleForm,"rsource",t)},expression:"ruleForm.rsource"}})],1),n("el-form-item",{attrs:{label:e.ruleFormTitle.workid,prop:"workid"}},[n("el-input",{model:{value:e.ruleForm.workid,callback:function(t){e.$set(e.ruleForm,"workid",t)},expression:"ruleForm.workid"}})],1),!e.ruleForm.isreject&&e.ruleForm.has_authcode?n("el-form-item",{attrs:{label:"验证码",prop:"authcode"}},[n("el-input",{staticStyle:{width:"320px",border:"1px solid red"},attrs:{placeholder:"对于已退库零件，再次收料时候需输入验证码。"},model:{value:e.ruleForm.authcode,callback:function(t){e.$set(e.ruleForm,"authcode",t)},expression:"ruleForm.authcode"}}),n("span",{staticStyle:{"margin-left":"8px",color:"red"}},[e._v("*")])],1):e._e(),n("el-form-item",[n("el-button",{attrs:{type:"primary",loading:e.submitFormLoading},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),n("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)],1)},i=[],a=(n("7db0"),n("4160"),n("c975"),n("45fc"),n("a434"),n("ac1f"),n("5319"),n("159b"),n("96cf"),n("1da1")),o=n("b775"),s={submitScan:function(e){return Object(o["a"])({url:"/object_function/scan_stock/submitScan",method:"get",params:{id:e}})},GetOneDayData:function(){return Object(o["a"])({url:"/object_function/scan_stock/GetOneDayData",method:"get",params:{}})},DelById:function(e){return Object(o["a"])({url:"/object_function/scan_stock/DelById",method:"get",params:{id:e}})},GetInputQuerySearch:function(e){return Object(o["a"])({url:"/object_function/scan_stock/GetInputQuerySearch",method:"get",params:{str:e}})},queryWorkNoSearch:function(e){return Object(o["a"])({url:"/object_function/scan_stock/queryWorkNoSearch",method:"get",params:{str:e}})},queryItemNoSearch:function(e){return Object(o["a"])({url:"/object_function/scan_stock/queryItemNoSearch",method:"get",params:{str:e}})},SaveDataArr:function(e){return Object(o["a"])({url:"/object_function/scan_stock/SaveDataArr",method:"post",data:e})},SaveData:function(e){return Object(o["a"])({url:"/object_function/scan_stock/SaveData",method:"post",data:e})}},l=n("f425"),u=n.n(l),c={components:{},data:function(){return{speech:null,tableHeight:window.innerHeight-155,tableData:{data:null,total:0,listLoading:!0},isLineWarp:!0,listQuery:{pageSize:100,currentPage:1,ext:{year:2019,month:10,username:"",DeptName:""},ColumnHeader:[]},currentInputVal:"",InputStringList:[],InputTips:"",canScanInput:!0,isDataChange:!1,submitLoading:!1,select_remoteLoading:!1,scanDialog:{Visible:!1,Title:"扫码录入"},manualDialog:{Visible:!1,Title:"非电子票料单专用界面"},submitFormLoading:!1,ruleForm:{projectid:"",itemnumber:"",num:0,code:"",rsource:"",location:"",plans:"",workid:"",isreject:!1,authcode:"",has_authcode:""},ruleFormTitle:{num:"数量",rsource:"来料单位",workid:"工单号"},rules:{projectid:[{required:!0,message:"请输入工号",trigger:"blur"}],itemnumber:[{required:!0,message:"请输入图号",trigger:"blur"}]},WorkNoListOptions:[],ItemNoListOptions:[]}},mounted:function(){var e=this;this.speechInit(),window.onresize=function(){e.tableHeight=window.innerHeight-155},window.onbeforeunload=function(t){t=t||window.event;var n=e.$refs.elxEditable.getAllRecords(),r=n.updateRecords;if(t&&r.length&&e.isDataChange&&(t.returnValue="修改内容未保存"),r.length&&e.isDataChange)return"修改内容未保存"};var t=this;document.onkeydown=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=window.event.keyCode,t.canScanInput&&!t.manualDialog.Visible?13==r?(t.submitScan(t.currentInputVal),t.currentInputVal="",t.InputTips=""):(t.currentInputVal=t.currentInputVal+n.key,i=t.currentInputVal.replace(/[^0-9]/gi,""),i&&(t.InputTips="WO-"+i)):13==r&&t.submitForm("ruleForm");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.fetchData(),this.GetInputQuerySearch("")},methods:{showManualDialog:function(){this.ruleForm.isreject=!1,this.ruleFormTitle.num="数量",this.ruleFormTitle.rsource="来料单位",this.ruleFormTitle.workid="工单号",this.manualDialog.Visible=!0,this.manualDialog.Title="非电子票料单专用界面",this.queryWorkNoSearch()},showRejectDialog:function(){this.ruleForm.isreject=!0,this.ruleForm.has_authcode="",this.ruleFormTitle.num="退库数量",this.ruleFormTitle.rsource="退库原因",this.ruleFormTitle.workid="票号",this.manualDialog.Visible=!0,this.manualDialog.Title="电子票料退库",this.queryWorkNoSearch()},queryWorkNoSearch:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.select_remoteLoading=!0,n.next=3,s.queryWorkNoSearch(e);case 3:r=n.sent,i=[],r.data.forEach((function(e){i.push({value:e})})),t.WorkNoListOptions=i,t.select_remoteLoading=!1;case 8:case"end":return n.stop()}}),n)})))()},WorkNoSelectChange:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.queryItemNoSearch(t.ruleForm.projectid);case 2:n=e.sent,t.ItemNoListOptions=n.data;case 4:case"end":return e.stop()}}),e)})))()},ItemNoSelectChange:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.ItemNoListOptions.find((function(t){return t.itemnumber==e})),"1"!=r.mylock||t.ruleForm.isreject||t.$message.error(r.itemnumber+"已被标记为禁止收料。"),t.ruleForm.num=r.sumquantity,t.ruleForm.has_authcode=r.has_authcode;case 4:case"end":return n.stop()}}),n)})))()},speechInit:function(){this.speech=new u.a,this.speech.setLanguage("zh-CN"),this.speech.init().then((function(){}))},submitScan:function(e){var t=this,n=e.replace(/[^0-9]/gi,"");e="WO-"+n;var r=this.tableData.data.some((function(t){if(t.workid==e)return!0}));if(r)return this.$message.warning("当日已收过此工单号:"+e+",可直接修改数量。"),void this.speech.speak({text:"当日已收过此工单号:"+e+",可直接修改数量。"});s.submitScan(e).then((function(n){t.tableData.data.unshift(n.data),t.$message.success(e),t.speech.speak({text:e})})).catch((function(e){t.speech.speak({text:e.msg})}))},querySearch:function(e,t){var n=this.InputStringList;t(n)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},GetInputQuerySearch:function(e){var t=this;s.GetInputQuerySearch(e).then((function(e){e.data.forEach((function(e){t.InputStringList.push({value:e.location})}))}))},submitEvent:function(){var e=this,t=this.$refs.elxEditable.getAllRecords(),n=t.updateRecords;n.length&&this.$confirm("确定要保存"+n.length+"条记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.submitEventLoading=!0,e.currentInputVal="",s.SaveDataArr(n).then((function(t){e.$message.success("保存成功！"),e.isDataChange=!1,e.fetchData()})).catch((function(){e.submitEventLoading=!1,e.$message.error("保存失败")})),e.submitEventLoading=!1}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.submitFormLoading=!0,s.SaveData(t.ruleForm).then((function(e){t.tableData.data.unshift(e.data),t.$message.success(e.msg),t.speech.speak({text:e.msg}),t.submitFormLoading=!1,t.resetForm("ruleForm")})).catch((function(e){t.speech.speak({text:e.msg}),t.submitFormLoading=!1}))}))},resetForm:function(e){this.$refs[e].resetFields()},fetchData:function(){var e=this;this.tableData.listLoading=!0,s.GetOneDayData().then((function(t){e.tableData.data=t.data,e.tableData.listLoading=!1}))},delClick:function(e,t){var n=this,r=e.id;this.$confirm("确定要删除此行数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s.DelById(r).then((function(e){n.$message.success(e.msg),n.tableData.data.splice(t,1)})).catch((function(e){n.$message.error("删除失败"+e.msg)}))}))},tableRowClassName:function(e){if(e.row.num<0)return"color:#F56C6C"}}},p=c,m=n("2877"),d=Object(m["a"])(p,r,i,!1,null,"6aca0443",null);t["default"]=d.exports},"7db0":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").find,a=n("44d2"),o=n("ae40"),s="find",l=!0,u=o(s);s in[]&&Array(1)[s]((function(){l=!1})),r({target:"Array",proto:!0,forced:l||!u},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},f425:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("5b878");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var s=function(){function e(){i(this,e),this.browserSupport="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window,this.synthesisVoice=null}return o(e,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,i){e.browserSupport||i("Your browser does not support Speech Synthesis");var a=(0,r.isNil)(t.listeners)?{}:t.listeners,o=!!(0,r.isNil)(t.splitSentences)||t.splitSentences,s=(0,r.isNil)(t.lang)?void 0:t.lang,l=(0,r.isNil)(t.volume)?1:t.volume,u=(0,r.isNil)(t.rate)?1:t.rate,c=(0,r.isNil)(t.pitch)?1:t.pitch,p=(0,r.isNil)(t.voice)?void 0:t.voice;Object.keys(a).forEach((function(e){var t=a[e],n=function(e){t&&t(e)};"onvoiceschanged"!==e&&(speechSynthesis[e]=n)})),e._loadVoices().then((function(t){a["onvoiceschanged"]&&a["onvoiceschanged"](t),!(0,r.isNil)(s)&&e.setLanguage(s),!(0,r.isNil)(p)&&e.setVoice(p),!(0,r.isNil)(l)&&e.setVolume(l),!(0,r.isNil)(u)&&e.setRate(u),!(0,r.isNil)(c)&&e.setPitch(c),!(0,r.isNil)(o)&&e.setSplitSentences(o),n({voices:t,lang:e.lang,voice:e.voice,volume:e.volume,rate:e.rate,pitch:e.pitch,splitSentences:e.splitSentences,browserSupport:e.browserSupport})})).catch((function(e){i(e)}))}))}},{key:"_fetchVoices",value:function(){return new Promise((function(e,t){setTimeout((function(){var n=speechSynthesis.getVoices();return(0,r.size)(n)>0?e(n):t("Could not fetch voices")}),100)}))}},{key:"_loadVoices",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._fetchVoices().catch((function(n){if(0===t)throw n;return e._loadVoices(t-1)}))}},{key:"hasBrowserSupport",value:function(){return this.browserSupport}},{key:"setVoice",value:function(e){var t,n=speechSynthesis.getVoices();if((0,r.isString)(e)&&(t=n.find((function(t){return t.name===e}))),(0,r.isObject)(e)&&(t=e),!t)throw"Error setting voice. The voice you passed is not valid or the voices have not been loaded yet.";this.synthesisVoice=t}},{key:"setLanguage",value:function(e){if(e=e.replace("_","-"),!(0,r.validateLocale)(e))throw"Error setting language. Please verify your locale is BCP47 format (http://schneegans.de/lv/?tags=es-FR&format=text)";this.lang=e}},{key:"setVolume",value:function(e){if(e=parseFloat(e),!(!(0,r.isNan)(e)&&e>=0&&e<=1))throw"Error setting volume. Please verify your volume value is a number between 0 and 1.";this.volume=e}},{key:"setRate",value:function(e){if(e=parseFloat(e),!(!(0,r.isNan)(e)&&e>=0&&e<=10))throw"Error setting rate. Please verify your volume value is a number between 0 and 10.";this.rate=e}},{key:"setPitch",value:function(e){if(e=parseFloat(e),!(!(0,r.isNan)(e)&&e>=0&&e<=2))throw"Error setting pitch. Please verify your pitch value is a number between 0 and 2.";this.pitch=e}},{key:"setSplitSentences",value:function(e){this.splitSentences=e}},{key:"speak",value:function(e){var t=this;return new Promise((function(n,i){var a=e.text,o=e.listeners,s=void 0===o?{}:o,l=e.queue,u=void 0===l||l,c=(0,r.trim)(a);(0,r.isNil)(c)&&n(),!u&&t.cancel();var p=[],m=t.splitSentences?(0,r.splitSentences)(c):[c];m.forEach((function(e,a){var o=a===(0,r.size)(m)-1,l=new SpeechSynthesisUtterance;t.synthesisVoice&&(l.voice=t.synthesisVoice),t.lang&&(l.lang=t.lang),t.volume&&(l.volume=t.volume),t.rate&&(l.rate=t.rate),t.pitch&&(l.pitch=t.pitch),l.text=e,Object.keys(s).forEach((function(e){var t=s[e],r=function(r){t&&t(r),"onerror"===e&&i({utterances:p,lastUtterance:l,error:r}),"onend"===e&&o&&n({utterances:p,lastUtterance:l})};l[e]=r})),p.push(l),speechSynthesis.speak(l)}))}))}},{key:"pending",value:function(){return speechSynthesis.pending}},{key:"paused",value:function(){return speechSynthesis.paused}},{key:"speaking",value:function(){return speechSynthesis.speaking}},{key:"pause",value:function(){speechSynthesis.pause()}},{key:"resume",value:function(){speechSynthesis.resume()}},{key:"cancel",value:function(){speechSynthesis.cancel()}}]),e}(),l=s;t.default=l}}]);