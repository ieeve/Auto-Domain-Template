(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc932262"],{"12c5":function(e,o,l){},"630e":function(e,o,l){"use strict";l.r(o);var n=function(){var e=this,o=e.$createElement,l=e._self._c||o;return l("div",{staticClass:"plan"},[l("el-row",{staticClass:"page-tools"},[l("el-col",{attrs:{span:20}},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.AddDialogOpen}},[e._v("新增")]),l("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.editClick}},[e._v("修改")]),l("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.delClick}},[e._v("删除")])],1),l("el-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[l("el-button-group",[l("el-button",{attrs:{size:"mini"},on:{click:e.fetchData}},[l("i",{staticClass:"el-icon-refresh"})]),l("el-checkbox",{attrs:{label:"换行",size:"mini",border:""},model:{value:e.isLineWarp,callback:function(o){e.isLineWarp=o},expression:"isLineWarp"}})],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.orgTable.loading,expression:"orgTable.loading"}],ref:"multipleTable",staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.orgTable.data,"highlight-current-row":"","row-key":"id","default-expand-all":e.defaultexpand,"tree-props":e.orgTable.defaultProps},on:{"select-all":e.onSelectAll,"selection-change":e.selectItem,"row-click":e.onSelectOp}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),l("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),l("el-table-column",{attrs:{label:"图标",width:"80"},scopedSlots:e._u([{key:"default",fn:function(e){return[l("span",{class:e.row.icon,staticStyle:{"font-size":"22px"}})]}}])}),l("el-table-column",{attrs:{prop:"menu_type",label:"类型",width:"180"}}),l("el-table-column",{attrs:{prop:"id",label:"序号",width:"180"}}),l("el-table-column",{attrs:{prop:"notes",label:"说明"}}),l("el-table-column",{attrs:{prop:"status",label:"状态"}}),l("el-table-column",{attrs:{prop:"seqno",label:"显示顺序"}}),l("el-table-column",{attrs:{prop:"createuid",label:"创建人"}}),l("el-table-column",{attrs:{prop:"createtime",label:"创建时间"}}),l("el-table-column",{attrs:{prop:"parentpath",label:"父路径"}})],1),l("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.dialog.dialogVisible,title:e.dialog.dialogTitle,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(o){return e.$set(e.dialog,"dialogVisible",o)}}},[l("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dialog.ruleFormLoading,expression:"dialog.ruleFormLoading"}],ref:"ruleForm",staticStyle:{"margin-right":"28px"},attrs:{size:"small",model:e.formcol,rules:e.rules,"label-width":"120px"}},[l("el-form-item",{attrs:{label:"菜单名称",prop:"name"}},[l("el-input",{model:{value:e.formcol.name,callback:function(o){e.$set(e.formcol,"name",o)},expression:"formcol.name"}})],1),l("el-form-item",{attrs:{label:"上级菜单",prop:"parentpath"}},[l("el-cascader",{staticStyle:{width:"100%"},attrs:{clearable:"",options:e.TreeSelectList,props:{expandTrigger:"click",checkStrictly:!0}},model:{value:e.formcol.parentpath,callback:function(o){e.$set(e.formcol,"parentpath",o)},expression:"formcol.parentpath"}})],1),"页面"==e.formcol.menu_type?l("el-form-item",{attrs:{label:"链接地址",prop:"url"}},[l("el-input",{attrs:{placeholder:"请输入完成的网站地址"},model:{value:e.formcol.url,callback:function(o){e.$set(e.formcol,"url",o)},expression:"formcol.url"}})],1):e._e(),l("el-form-item",{attrs:{label:"显示顺序",prop:"seqno"}},[l("el-input-number",{attrs:{min:1,max:1e3,label:"顺序"},model:{value:e.formcol.seqno,callback:function(o){e.$set(e.formcol,"seqno",o)},expression:"formcol.seqno"}})],1),l("el-form-item",{attrs:{label:"状态",prop:"status"}},[l("el-radio",{attrs:{label:1},model:{value:e.formcol.status,callback:function(o){e.$set(e.formcol,"status",o)},expression:"formcol.status"}},[e._v("启用")]),l("el-radio",{attrs:{label:0},model:{value:e.formcol.status,callback:function(o){e.$set(e.formcol,"status",o)},expression:"formcol.status"}},[e._v("停用")])],1),l("el-form-item",{attrs:{label:"菜单图标",prop:"icon"}},[l("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择"},model:{value:e.formcol.icon,callback:function(o){e.$set(e.formcol,"icon",o)},expression:"formcol.icon"}},e._l(e.iconList,(function(o){return l("el-option",{key:o,attrs:{label:o,value:o}},[l("span",{staticStyle:{float:"left","font-size":"20px"}},[l("i",{class:o})]),l("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(o))])])})),1)],1),l("el-form-item",{attrs:{label:"说明",prop:"notes"}},[l("el-input",{attrs:{type:"textarea",rows:"4"},model:{value:e.formcol.notes,callback:function(o){e.$set(e.formcol,"notes",o)},expression:"formcol.notes"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",loading:e.dialog.btnSavaLoading},on:{click:e.AddSubmit}},[e._v("保存")]),l("el-button",{on:{click:function(o){e.dialog.dialogVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},i=[],t=(l("4de4"),l("a15b"),l("d81d"),l("ac1f"),l("1276"),l("96cf"),l("1da1")),c=l("a118"),a={components:{},data:function(){return{defaultexpand:!1,isLineWarp:!1,radioId:0,orgTable:{data:[],defaultProps:{children:"children"},loading:!1},iconList:["el-icon-platform-eleme","el-icon-eleme","el-icon-delete-solid","el-icon-delete","el-icon-s-tools","el-icon-setting","el-icon-user-solid","el-icon-user","el-icon-phone","el-icon-phone-outline","el-icon-more","el-icon-more-outline","el-icon-star-on","el-icon-star-off","el-icon-s-goods","el-icon-goods","el-icon-warning","el-icon-warning-outline","el-icon-question","el-icon-info","el-icon-remove","el-icon-circle-plus","el-icon-success","el-icon-error","el-icon-zoom-in","el-icon-zoom-out","el-icon-remove-outline","el-icon-circle-plus-outline","el-icon-circle-check","el-icon-circle-close","el-icon-s-help","el-icon-help","el-icon-minus","el-icon-plus","el-icon-check","el-icon-close","el-icon-picture","el-icon-picture-outline","el-icon-picture-outline-round","el-icon-upload","el-icon-upload2","el-icon-download","el-icon-camera-solid","el-icon-camera","el-icon-video-camera-solid","el-icon-video-camera","el-icon-message-solid","el-icon-bell","el-icon-s-cooperation","el-icon-s-order","el-icon-s-platform","el-icon-s-fold","el-icon-s-unfold","el-icon-s-operation","el-icon-s-promotion","el-icon-s-home","el-icon-s-release","el-icon-s-ticket","el-icon-s-management","el-icon-s-open","el-icon-s-shop","el-icon-s-marketing","el-icon-s-flag","el-icon-s-comment","el-icon-s-finance","el-icon-s-claim","el-icon-s-custom","el-icon-s-opportunity","el-icon-s-data","el-icon-s-check","el-icon-s-grid","el-icon-menu","el-icon-share","el-icon-d-caret","el-icon-caret-left","el-icon-caret-right","el-icon-caret-bottom","el-icon-caret-top","el-icon-bottom-left","el-icon-bottom-right","el-icon-back","el-icon-right","el-icon-bottom","el-icon-top","el-icon-top-left","el-icon-top-right","el-icon-arrow-left","el-icon-arrow-right","el-icon-arrow-down","el-icon-arrow-up","el-icon-d-arrow-left","el-icon-d-arrow-right","el-icon-video-pause","el-icon-video-play","el-icon-refresh","el-icon-refresh-right","el-icon-refresh-left","el-icon-finished","el-icon-sort","el-icon-sort-up","el-icon-sort-down","el-icon-rank","el-icon-loading","el-icon-view","el-icon-c-scale-to-original","el-icon-date","el-icon-edit","el-icon-edit-outline","el-icon-folder","el-icon-folder-opened","el-icon-folder-add","el-icon-folder-remove","el-icon-folder-delete","el-icon-folder-checked","el-icon-tickets","el-icon-document-remove","el-icon-document-delete","el-icon-document-copy","el-icon-document-checked","el-icon-document","el-icon-document-add","el-icon-printer","el-icon-paperclip","el-icon-takeaway-box","el-icon-search","el-icon-monitor","el-icon-attract","el-icon-mobile","el-icon-scissors","el-icon-umbrella","el-icon-headset","el-icon-brush","el-icon-mouse","el-icon-coordinate","el-icon-magic-stick","el-icon-reading","el-icon-data-line","el-icon-data-board","el-icon-pie-chart","el-icon-data-analysis","el-icon-collection-tag","el-icon-film","el-icon-suitcase","el-icon-suitcase-1","el-icon-receiving","el-icon-collection","el-icon-files","el-icon-notebook-1","el-icon-notebook-2","el-icon-toilet-paper","el-icon-office-building","el-icon-school","el-icon-table-lamp","el-icon-house","el-icon-no-smoking","el-icon-smoking","el-icon-shopping-cart-full","el-icon-shopping-cart-1","el-icon-shopping-cart-2","el-icon-shopping-bag-1","el-icon-shopping-bag-2","el-icon-sold-out","el-icon-sell","el-icon-present","el-icon-box","el-icon-bank-card","el-icon-money","el-icon-coin","el-icon-wallet","el-icon-discount","el-icon-price-tag","el-icon-news","el-icon-guide","el-icon-male","el-icon-female","el-icon-thumb","el-icon-cpu","el-icon-link","el-icon-connection","el-icon-open","el-icon-turn-off","el-icon-set-up","el-icon-chat-round","el-icon-chat-line-round","el-icon-chat-square","el-icon-chat-dot-round","el-icon-chat-dot-square","el-icon-chat-line-square","el-icon-message","el-icon-postcard","el-icon-position","el-icon-turn-off-microphone","el-icon-microphone","el-icon-close-notification","el-icon-bangzhu","el-icon-time","el-icon-odometer","el-icon-crop","el-icon-aim","el-icon-switch-button","el-icon-full-screen","el-icon-copy-document","el-icon-mic","el-icon-stopwatch","el-icon-medal-1","el-icon-medal","el-icon-trophy","el-icon-trophy-1","el-icon-first-aid-kit","el-icon-discover","el-icon-place","el-icon-location","el-icon-location-outline","el-icon-location-information","el-icon-add-location","el-icon-delete-location","el-icon-map-location","el-icon-alarm-clock","el-icon-timer","el-icon-watch-1","el-icon-watch","el-icon-lock","el-icon-unlock","el-icon-key","el-icon-service","el-icon-mobile-phone","el-icon-bicycle","el-icon-truck","el-icon-ship","el-icon-basketball","el-icon-football","el-icon-soccer","el-icon-baseball","el-icon-wind-power","el-icon-light-rain","el-icon-lightning","el-icon-heavy-rain","el-icon-sunrise","el-icon-sunrise-1","el-icon-sunset","el-icon-sunny","el-icon-cloudy","el-icon-partly-cloudy","el-icon-cloudy-and-sunny","el-icon-moon","el-icon-moon-night","el-icon-dish","el-icon-dish-1","el-icon-food","el-icon-chicken","el-icon-fork-spoon","el-icon-knife-fork","el-icon-burger","el-icon-tableware","el-icon-sugar","el-icon-dessert","el-icon-ice-cream","el-icon-hot-water","el-icon-water-cup","el-icon-coffee-cup","el-icon-cold-drink","el-icon-goblet","el-icon-goblet-full","el-icon-goblet-square","el-icon-goblet-square-full","el-icon-refrigerator","el-icon-grape","el-icon-watermelon","el-icon-cherry","el-icon-apple","el-icon-pear","el-icon-orange","el-icon-coffee","el-icon-ice-tea","el-icon-ice-drink","el-icon-milk-tea","el-icon-potato-strips","el-icon-lollipop","el-icon-ice-cream-square","el-icon-ice-cream-round"],isAdd:!1,formcol:{id:0,seqno:0,name:"",notes:"",status:1,url:"",icon:"",menu_target:"",menu_type:"页面",objid:0,viewid:0,parentid:0,parentpath:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},dialog:{ruleFormLoading:!1,dialogVisible:!1,btnSavaLoading:!1,dialogTitle:"添加菜单"},TreeSelectList:[]}},create:function(){},mounted:function(){this.fetchData()},methods:{getSelectTree:function(){var e=this;c["a"].GetTreeSelect().then((function(o){e.TreeSelectList=o.data})).catch((function(o){e.$message.error("获取树状结构失败"+o.msg)}))},AddSubmit:function(){var e=this,o=this;this.$refs.ruleForm.validate(function(){var l=Object(t["a"])(regeneratorRuntime.mark((function l(n){var i;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:if(!n){l.next=19;break}if(o.formcol.parentpath&&(o.formcol.parentpath=o.formcol.parentpath.join("-")),o.dialog.btnSavaLoading=!0,!o.isAdd){l.next=9;break}return l.next=6,c["a"].Add(e.formcol);case 6:i=l.sent,l.next=12;break;case 9:return l.next=11,c["a"].Update(e.formcol);case 11:i=l.sent;case 12:e.formcol.parentpath&&(e.formcol.parentpath=e.formcol.parentpath.split("-")),e.$message.success(i.msg),e.fetchData(),e.dialog.btnSavaLoading=!1,e.dialog.dialogVisible=!1,l.next=20;break;case 19:return l.abrupt("return",!1);case 20:case"end":return l.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}())},editClick:function(){var e=this;return Object(t["a"])(regeneratorRuntime.mark((function o(){var l,n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(l=e.multipleSelection,l&&0!=l.length){o.next=3;break}return o.abrupt("return",e.$message.info("请选择待操作记录"));case 3:return e.dialog.dialogVisible=!0,e.dialog.btnSavaLoading=!1,e.isAdd=!1,e.dialog.ruleFormLoading=!0,e.dialog.dialogTitle="修改菜单数据",e.getSelectTree(),o.next=11,c["a"].GetById(l[0].id);case 11:n=o.sent,e.formcol=n.data,e.formcol.parentpath&&(e.formcol.parentpath=e.formcol.parentpath.split("-").map((function(e){return+e}))),e.dialog.ruleFormLoading=!1;case 15:case"end":return o.stop()}}),o)})))()},delClick:function(){var e=this,o=this.multipleSelection;if(!o||0==o.length)return this.$message.info("请选择待操作记录");this.$confirm("确定要删除此节点吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){c["a"].Del(o[0]).then((function(o){e.fetchData(),e.$message.success(o.msg)})).catch((function(o){e.$message.error("删除失败"+o.msg)}))}))},fetchData:function(){var e=this;return Object(t["a"])(regeneratorRuntime.mark((function o(){var l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.orgTable.loading=!0,o.next=3,c["a"].GetTreeTable();case 3:l=o.sent,e.orgTable.data=l.data,e.orgTable.loading=!1;case 6:case"end":return o.stop()}}),o)})))()},changeExpand:function(){this.defaultexpand?this.defaultexpand=!1:this.defaultexpand=!0},onSelectAll:function(){this.$refs.multipleTable.clearSelection()},selectItem:function(e){var o=this;if(e.length>1){var l=e.filter((function(l,n){return n==e.length-1?(o.$refs.multipleTable.toggleRowSelection(l,!0),!0):(o.$refs.multipleTable.toggleRowSelection(l,!1),!1)}));this.multipleSelection=l}else this.multipleSelection=e},onSelectOp:function(e){this.$refs.multipleTable.clearSelection(),this.$refs.multipleTable.toggleRowSelection(e,!0),this.multipleSelection=[],this.multipleSelection.push(e)},AddDialogOpen:function(){this.isAdd=!0,this.dialog.dialogTitle="添加新菜单",this.formcol={id:0,seqno:0,name:"",notes:"",status:1,url:"",icon:"",menu_target:"",menu_type:"页面",objid:0,viewid:0,parentid:0,parentpath:[]},this.dialog.dialogVisible=!0,this.getSelectTree()}}},r=a,s=(l("ea3b"),l("2877")),u=Object(s["a"])(r,n,i,!1,null,"4ebcca71",null);o["default"]=u.exports},a118:function(e,o,l){"use strict";var n=l("b775");o["a"]={Add:function(e){return Object(n["a"])({url:"/sys_menu/Add",method:"post",data:e})},Del:function(e){return Object(n["a"])({url:"/sys_menu/Del",method:"post",data:e})},Update:function(e){return Object(n["a"])({url:"/sys_menu/Update",method:"post",data:e})},GetById:function(e){return Object(n["a"])({url:"/sys_menu/GetById",method:"get",params:{id:e}})},GetTreeTable:function(){return Object(n["a"])({url:"/sys_menu/GetTreeTable",method:"get"})},GetTreeSelect:function(){return Object(n["a"])({url:"/sys_menu/GetTreeSelect",method:"get"})}}},a15b:function(e,o,l){"use strict";var n=l("23e7"),i=l("44ad"),t=l("fc6a"),c=l("a640"),a=[].join,r=i!=Object,s=c("join",",");n({target:"Array",proto:!0,forced:r||!s},{join:function(e){return a.call(t(this),void 0===e?",":e)}})},d81d:function(e,o,l){"use strict";var n=l("23e7"),i=l("b727").map,t=l("1dde"),c=l("ae40"),a=t("map"),r=c("map");n({target:"Array",proto:!0,forced:!a||!r},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},ea3b:function(e,o,l){"use strict";var n=l("12c5"),i=l.n(n);i.a}}]);